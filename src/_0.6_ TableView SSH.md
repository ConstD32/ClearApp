–ù–∏–∂–µ ‚Äî **–ø–æ–ª–Ω—ã–π, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä `TableView` –ø–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SSH** –≤ —Å–≤—è–∑–∫–µ **Slint ‚Üî Rust**.
–≠—Ç–æ –Ω–µ –¥–µ–º–æ-—Ñ—Ä–∞–≥–º–µ–Ω—Ç, –∞ **—à–∞–±–ª–æ–Ω, –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (CRUD, resize –∫–æ–ª–æ–Ω–æ–∫, –≤—ã–±–æ—Ä —Å—Ç—Ä–æ–∫–∏,
—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è).

---

# üìã TableView –¥–ª—è SSH-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (Slint + Rust)

## –¶–µ–ª–∏ –ø—Ä–∏–º–µ—Ä–∞

* —Ç–∞–±–ª–∏—Ü–∞ SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
* —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ —è—á–µ–π–∫–∏
* –≤—ã–±–æ—Ä —Å—Ç—Ä–æ–∫–∏
* –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ
* resize –∫–æ–ª–æ–Ω–æ–∫
* **–±–µ–∑ callback –¥–ª—è –¥–∞–Ω–Ω—ã—Ö**
* Rust ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

---

## 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (–¥–æ–º–µ–Ω)

### Slint (`ssh.slint`)

```slint
export struct SshConfig {
    name: string,
    host: string,
    port: int,
    user: string,
}
```

---

## 2. Slint UI (–ø–æ–ª–Ω—ã–π)

```slint
import { Button, TextInput } from "std-widgets.slint";

export component MainWindow inherits Window {
    in-out property <[SshConfig]> rows;
    in-out property <int> selected_row: -1;

    // —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫
    in-out property <length> col_name: 140px;
    in-out property <length> col_host: 200px;
    in-out property <length> col_port: 70px;
    in-out property <length> col_user: 120px;

    width: 800px;
    height: 500px;
    title: "SSH Configurations";

    VerticalLayout {
        spacing: 6px;
        padding: 8px;

        // ===== HEADER =====
        HorizontalLayout {
            header_cell("Name", col_name);
            header_cell("Host", col_host);
            header_cell("Port", col_port);
            header_cell("User", col_user);
        }

        // ===== TABLE =====
        TableView {
            for (i, row) in rows: TableRow {
                background: i == selected_row ? #e8f0ff : transparent;

                cell_text(i, row.name, col_name, (v) => {
                    rows.set_row_data(i, {
                        name: v,
                        host: row.host,
                        port: row.port,
                        user: row.user
                    });
                });

                cell_text(i, row.host, col_host, (v) => {
                    rows.set_row_data(i, {
                        name: row.name,
                        host: v,
                        port: row.port,
                        user: row.user
                    });
                });

                cell_port(i, row.port, col_port, (v) => {
                    rows.set_row_data(i, {
                        name: row.name,
                        host: row.host,
                        port: v,
                        user: row.user
                    });
                });

                cell_text(i, row.user, col_user, (v) => {
                    rows.set_row_data(i, {
                        name: row.name,
                        host: row.host,
                        port: row.port,
                        user: v
                    });
                });

                TouchArea {
                    clicked => selected_row = i;
                }
            }
        }

        // ===== FOOTER =====
        HorizontalLayout {
            spacing: 8px;

            Button {
                text: "Add";
                clicked => {
                    rows.push({
                        name: "New",
                        host: "localhost",
                        port: 22,
                        user: "user"
                    });
                }
            }

            Button {
                text: "Remove";
                enabled: selected_row >= 0;
                clicked => {
                    rows.remove(selected_row);
                    selected_row = -1;
                }
            }
        }
    }
}
```

---

## 3. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—è—á–µ–π–∫–∏ –∏ header)

–î–æ–±–∞–≤—å—Ç–µ **–≤ —Ç–æ—Ç –∂–µ `.slint` —Ñ–∞–π–ª** –Ω–∏–∂–µ.

### Header —Å —Ä–µ—Å–∞–π–∑–æ–º

```slint
component header_cell(label: string, in-out width_ref: length) {
    Rectangle {
        height: 30px;
        width: width_ref;
        background: #f0f0f0;
        border-bottom-width: 1px;
        border-color: #ccc;

        Text {
            text: label;
            font-weight: 700;
            padding-left: 6px;
        }

        Rectangle {
            width: 5px;
            alignment: right;
            cursor: ew-resize;

            TouchArea {
                dragged(delta) => {
                    width_ref = max(60px, width_ref + delta.x);
                }
            }
        }
    }
}
```

---

### –¢–µ–∫—Å—Ç–æ–≤–∞—è —è—á–µ–π–∫–∞

```slint
component cell_text(
    row_index: int,
    value: string,
    width_ref: length,
    on_edit: callback(string)
) {
    Rectangle {
        width: width_ref;
        height: 32px;

        TextInput {
            text: value;
            edited(v) => on_edit(v);
        }
    }
}
```

---

### –Ø—á–µ–π–∫–∞ –ø–æ—Ä—Ç–∞ (—á–∏—Å–ª–æ)

```slint
component cell_port(
    row_index: int,
    value: int,
    width_ref: length,
    on_edit: callback(int)
) {
    Rectangle {
        width: width_ref;
        height: 32px;

        SpinBox {
            value: value;
            minimum: 1;
            maximum: 65535;
            edited(v) => on_edit(v);
        }
    }
}
```

---

## 4. Rust: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—å—é

```rust
use slint::{VecModel, SharedString};

#[derive(Clone)]
struct SshConfig {
    name: SharedString,
    host: SharedString,
    port: i32,
    user: SharedString,
}

fn main() -> Result<(), slint::PlatformError> {
    let ui = MainWindow::new()?;

    let model = VecModel::from(vec![
        SshConfig {
            name: "Server A".into(),
            host: "192.168.1.10".into(),
            port: 22,
            user: "root".into(),
        },
        SshConfig {
            name: "Server B".into(),
            host: "example.com".into(),
            port: 2222,
            user: "admin".into(),
        },
    ]);

    ui.set_rows(model.clone().into());

    // –ø—Ä–∏–º–µ—Ä —Ä–µ–∞–∫—Ü–∏–∏ Rust
    model.push(SshConfig {
        name: "Local".into(),
        host: "localhost".into(),
        port: 22,
        user: "me".into(),
    });

    ui.run()
}
```

---

## 5. –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

‚úî CRUD
‚úî inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úî resize –∫–æ–ª–æ–Ω–æ–∫
‚úî –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
‚úî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
‚úî –±–µ–∑ callback –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
‚úî –≥–æ—Ç–æ–≤–æ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –≤ —Ñ–∞–π–ª / –ë–î

---

## 6. –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```rust
for i in 0..model.row_count() {
    let row = model.row_data(i).unwrap();
    // serialize ‚Üí json / toml / yaml
}
```

–®–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫:

```rust
let layout = (
    ui.get_col_name(),
    ui.get_col_host(),
    ui.get_col_port(),
    ui.get_col_user(),
);
```

---

## 7. –¢–∏–ø–∏—á–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

* –∫–Ω–æ–ø–∫–∞ **Connect**
* password / key path
* —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–µ
* –ø–æ–∏—Å–∫ / —Ñ–∏–ª—å—Ç—Ä
* –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
* multi-selection
* undo / redo

---

## 8. –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
VecModel<SshConfig>   ‚Üê Rust (logic, persistence)
        ‚Üë‚Üì
     TableView        ‚Üê Slint (UI)
```
